{"version":3,"sources":["webpack:///webpack/bootstrap d7ce96468496a457d1bb","webpack:///./src/index.js","webpack:///./src/file.js","webpack:///./src/_get-filereader-method-name.js","webpack:///./src/_read-files.js","webpack:///./src/dropfiles.js","webpack:///./src/dragover.js"],"names":[],"mappings":"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","file":"matreshka-binders-file.min.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap d7ce96468496a457d1bb\n **/","/* globals Matreshka */\nimport file from './file';\nimport dropFiles from './dropfiles';\nimport dragOver from './dragover';\n\n// extend binders object in browser environment\nif (typeof Matreshka === 'function') {\n    const { binders } = Matreshka;\n\n    binders.file = file;\n    binders.dropFiles = dropFiles;\n    binders.dragOver = dragOver;\n}\n\n// export these binders in CJS environment\nmodule.exports = {\n    file,\n    dropFiles,\n    dragOver\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/index.js\n **/","import getFileReaderMethodName from './_get-filereader-method-name';\nimport readFiles from './_read-files';\n\nfunction createFileChangeHandler({\n    callback,\n    methodName\n}) {\n    return function fileChangeHandler() {\n        const { files } = this;\n\n        if (files.length) {\n            readFiles(files, methodName, callback);\n        } else {\n            callback([]);\n        }\n    };\n}\n\nexport default function fileBinder(readAs) {\n    const methodName = readAs ? getFileReaderMethodName(readAs) : null;\n    let fileChangeHandler;\n\n    return {\n        on(callback) {\n            fileChangeHandler = createFileChangeHandler({\n                callback,\n                methodName\n            });\n            this.addEventListener('change', fileChangeHandler);\n        },\n        destroy() {\n            this.removeEventListener('change', fileChangeHandler);\n        },\n        getValue({ domEvent }) {\n            const files = domEvent || [];\n            return this.multiple ? files : files[0] || null;\n        },\n        setValue: null\n    };\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/file.js\n **/","export default function getFileReaderMethodName(readAs) {\n    const { FileReader } = window;\n    /* istanbul ignore if  */\n    if (typeof FileReader === 'undefined') {\n        throw Error('FileReader is not supported by this browser');\n    }\n\n    const methodName = `readAs${readAs[0].toUpperCase()}${readAs.slice(1)}`;\n\n    if (!FileReader.prototype[methodName]) {\n        throw Error(`Method ${methodName} is not supported by FileReader`);\n    }\n\n    return methodName;\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/_get-filereader-method-name.js\n **/","export default function readFiles(files, fileReaderMethodName, callback) {\n    const { length } = files;\n    const arrayOfFiles = Array(length);\n    let j = 0;\n\n    function createLoadendHandler({\n        file,\n        reader\n    }) {\n        return function loadendHandler() {\n            file.readerResult = reader.result; // eslint-disable-line no-param-reassign\n            if (++j === length) {\n                callback(arrayOfFiles);\n            }\n\n            reader.removeEventListener('loadend', loadendHandler);\n        };\n    }\n\n    if (fileReaderMethodName) {\n        for (let i = 0; i < length; i++) {\n            const reader = new window.FileReader();\n            const file = files[i];\n\n            arrayOfFiles[i] = file;\n\n            reader.addEventListener('loadend', createLoadendHandler({\n                file,\n                reader\n            }));\n\n            reader[fileReaderMethodName](file);\n        }\n    } else {\n        for (let i = 0; i < length; i++) {\n            arrayOfFiles[i] = files[i];\n        }\n\n        callback(arrayOfFiles);\n    }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/_read-files.js\n **/","import getFileReaderMethodName from './_get-filereader-method-name';\nimport readFiles from './_read-files';\n\nfunction createDropHandler({\n    callback,\n    methodName\n}) {\n    return function dropHandler(event) {\n        event.preventDefault();\n        const files = event.dataTransfer.files;\n\n        if (files.length) {\n            readFiles(files, methodName, callback);\n        } else {\n            callback([]);\n        }\n    };\n}\n\nfunction createDragoverHandler() {\n    return function dragoverHandler(event) {\n        event.preventDefault();\n        event.dataTransfer.dropEffect = 'copy'; // eslint-disable-line no-param-reassign\n    };\n}\n\nexport default function dropFilesBinder(readAs) {\n    const methodName = readAs ? getFileReaderMethodName(readAs) : null;\n    let dropHandler;\n    let dragoverHandler;\n\n    return {\n        on(callback) {\n            dropHandler = createDropHandler({\n                callback,\n                methodName\n            });\n            dragoverHandler = createDragoverHandler();\n\n            this.addEventListener('drop', dropHandler);\n            this.addEventListener('dragover', dragoverHandler);\n        },\n        destroy() {\n            this.removeEventListener('drop', dropHandler);\n            this.removeEventListener('dragover', dragoverHandler);\n        },\n        getValue({ domEvent }) {\n            return domEvent || [];\n        },\n        setValue: null\n    };\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/dropfiles.js\n **/","export default function dragOver() {\n    return {\n        on: 'dragover dragenter dragleave dragend drop',\n        getValue({ domEvent }) {\n            const eventType = domEvent && domEvent.type;\n            return eventType === 'dragover' || eventType === 'dragenter';\n        },\n        setValue: null\n    };\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/dragover.js\n **/"],"sourceRoot":""}