{"version":3,"sources":["webpack:///webpack/bootstrap 2836b3d9ec100116d622","webpack:///./src/index.js","webpack:///./src/file.js","webpack:///./src/_get-filereader-method-name.js","webpack:///./src/_read-files.js","webpack:///./src/dropfiles.js","webpack:///./src/dragover.js"],"names":[],"mappings":"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","file":"matreshka-binders-file.min.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 2836b3d9ec100116d622\n **/","import file from './file';\nimport dropFiles from './dropfiles';\nimport dragOver from './dragover';\n\n// extend binders object in browser environment\nif(typeof Matreshka === 'function') {\n    const { binders } = Matreshka;\n\n    binders.file = file;\n    binders.dropFiles = dropFiles;\n    binders.dragOver = dragOver;\n}\n\n// export these binders in CJS environment\nmodule.exports = {\n    file,\n    dropFiles,\n    dragOver\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/index.js\n **/","import getFileReaderMethodName from './_get-filereader-method-name';\nimport readFiles from './_read-files';\n\nfunction createFileChangeHandler({\n    callback,\n    methodName\n}) {\n    return function fileChangeHandler(event) {\n        const { files } = this;\n\n        if (files.length) {\n\t\t\treadFiles(files, methodName, callback);\n\t\t} else {\n\t\t\tcallback([]);\n\t\t}\n    }\n}\n\nexport default function fileBinder(readAs) {\n    const methodName = readAs ? getFileReaderMethodName(readAs) : null;\n    let fileChangeHandler;\n\n    return {\n        on(callback) {\n            fileChangeHandler = createFileChangeHandler({\n                callback,\n                methodName\n            });\n            this.addEventListener('change', fileChangeHandler);\n        },\n        destroy() {\n            this.removeEventListener('change', fileChangeHandler);\n        },\n        getValue({ domEvent }) {\n            const files = domEvent || [];\n\t\t\treturn this.multiple ? files : files[0] || null;\n        },\n        setValue: null\n    }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/file.js\n **/","export default function getFileReaderMethodName(readAs) {\n\t/* istanbul ignore if  */\n\tif (typeof FileReader == 'undefined') {\n\t\tthrow Error('FileReader is not supported by this browser');\n\t}\n\n\tconst methodName = `readAs${readAs[0].toUpperCase()}${readAs.slice(1)}`;\n\n\tif (!FileReader.prototype[methodName]) {\n\t\tthrow Error(`Method ${methodName} is not supported by FileReader`);\n\t}\n\n\treturn methodName;\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/_get-filereader-method-name.js\n **/","export default function readFiles(files, fileReaderMethodName, callback) {\n    const { length } = files;\n    const arrayOfFiles = Array(length);\n\n    if(fileReaderMethodName) {\n        let j = 0;\n        for(let i = 0; i < length; i++) {\n            const reader = new FileReader();\n            const file = files[i];\n\n            arrayOfFiles[i] = file;\n\n            reader.addEventListener('loadend', (evt) => {\n\t\t\t\tfile.readerResult = reader.result;\n\t\t\t\tif (++j === length) {\n\t\t\t\t\tcallback(arrayOfFiles);\n\t\t\t\t}\n\t\t\t});\n\n            reader[fileReaderMethodName](file)\n        }\n    } else {\n        for(let i = 0; i < length; i++) {\n            arrayOfFiles[i] = files[i];\n        }\n\n        callback(arrayOfFiles);\n    }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/_read-files.js\n **/","import getFileReaderMethodName from './_get-filereader-method-name';\nimport readFiles from './_read-files';\n\nfunction createDropHandler({\n    callback,\n    methodName\n}) {\n    return function dropHandler(event) {\n        event.preventDefault();\n\t\tconst files = event.dataTransfer.files;\n\n\t\tif (files.length) {\n\t\t    readFiles(files, methodName, callback);\n\t\t} else {\n\t\t\tcallback([]);\n\t\t}\n    }\n}\n\nfunction createDragoverHandler() {\n    return function dragoverHandler(event) {\n        event.preventDefault();\n\t\tevent.dataTransfer.dropEffect = 'copy';\n    }\n}\n\nexport default function dropFilesBinder(readAs) {\n    const methodName = readAs ? getFileReaderMethodName(readAs) : null;\n    let dropHandler;\n    let dragoverHandler;\n\n    return {\n        on(callback) {\n            dropHandler = createDropHandler({\n                callback,\n                methodName\n            });\n            dragoverHandler = createDragoverHandler();\n\n            this.addEventListener('drop', dropHandler);\n            this.addEventListener('dragover', dragoverHandler);\n        },\n        destroy() {\n            this.removeEventListener('drop', dropHandler);\n            this.removeEventListener('dragover', dragoverHandler);\n        },\n        getValue({ domEvent }) {\n\t\t\treturn domEvent || [];\n\t\t},\n        setValue: null\n    }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/dropfiles.js\n **/","export default function dragOver() {\n    return {\n    \ton: 'dragover dragenter dragleave dragend drop',\n    \tgetValue({ domEvent }) {\n    \t\tconst eventType = domEvent && domEvent.type;\n    \t\treturn eventType == 'dragover' || eventType == 'dragenter';\n    \t},\n    \tsetValue: null\n    };\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/dragover.js\n **/"],"sourceRoot":""}